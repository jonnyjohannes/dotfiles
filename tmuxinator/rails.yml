# ~/.tmuxinator/rails
#

<%
  @projects = {
    makeshift: '~/src/appcolony/makeshift/web',
    vandelay: '~/src/appcolony/makeshift/vandelay',
    id: '~/src/appcolony/makeshift/id',
    hattrick: '~/src/appcolony/hockeycanada/hat-trick-api',
    teamcanada: '~/src/appcolony/hockeycanada/team-canada-api',
    pintpass: '~/src/appcolony/pintpass/beer-passport',
    lydiahol: '~/src/lydiahol/lydia',
    turningpoint: '~/src/turningpoint/turningpoint',
    phas: '~/src/archive/phas/symposium',
    monstercards: '~/src/monstercards',
  }

  @name = @args[0]
  @root = @projects[@name.to_sym]
  @port = @args[1] || 3000
  @pre = if @root.include?('appcolony')
    "heroku accounts:set appcolony; open /Applications/Slack.app; open /Applications/Google\\ Chrome.app;"
  else
    "heroku accounts:set jonnyjohannes; open /Applications/Google\\ Chrome.app;"
  end
%>

name: <%= @name %>

root: <%= @root %>

pre: <%= @pre %>

windows:
  - <%= @name %>:
      layout: 5b73,278x82,0,0{139x82,0,0,1,138x82,140,0[138x41,140,0,5,138x40,140,42{69x40,140,42,6,68x40,210,42,7}]}
      panes:
        -
        -
        - rails c
        - rails s --port=<%= @port %>

