set nocompatible            " (neo)vim compatible
set number                  " show line numbers
set relativenumber          " show relative line numbers
set ignorecase              " case-insensitive searching
set smartcase               " case-smartsensitive searching
set incsearch               " highlight matches incrementally
set hlsearch                " highlight matches
set splitbelow              " split horizontal pane to the bottom
set splitright              " split vertical pane to the right
set mouse=                  " no mouse
set shiftround              " use multiple of shiftwidth
set tabstop=2               " 2 space tab
set shiftwidth=2            " 2 space tab
set expandtab               " use softtabs
set clipboard=unnamedplus   " share system clipboard
set noshowmode              " no mode in command line
set fillchars=eob:\         " blank end of buffers
set cursorline              " highlight current line

let mapleader = ' '

augroup NormalModeOverrides
  autocmd!
  " centre screen after page movements
  nnoremap <C-d> <C-d>zz
  nnoremap <C-u> <C-u>zz
  " centre screen when navigating search results
  nnoremap n nzzzv
  nnoremap N Nzzzv
  " yank whole buffer
  nnoremap YY :%y<cr>
  " buffer (tmux-ish) navigation
  nnoremap <leader>l :b#<cr>
  nnoremap <leader>x :close<cr>
  nnoremap <leader>z :only<cr>
  " clear search highlights
  nnoremap <esc> :nohlsearch<cr>:echo ' (⌐■_■)'<cr><esc>
  " privleged marks
  nnoremap ma mA
  nnoremap ms mS
  nnoremap md mD
  nnoremap mf mF
  nnoremap <M-a> 'A
  nnoremap <M-s> 'S
  nnoremap <M-d> 'D
  nnoremap <M-f> 'F
augroup END

augroup VisualModeOverrides
  autocmd!
  " move selected lines up and down
  vnoremap J :m '>+1<CR>gv=gv
  vnoremap K :m '<-2<CR>gv=gv
  " keep selection on indent
  vnoremap < <gv
  vnoremap > >gv
augroup END

augroup TerminalModeOverrides
  autocmd!
  tnoremap <M-esc> <C-\><C-n>
augroup END

